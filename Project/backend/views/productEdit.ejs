<!DOCTYPE html>
<html lang="en">
    <head>
        <!--headPart-->
        <%- include('./partials/_headPart') %>
        <!--/headPart-->
        <!--Mi hoja de estilos-->
        <link rel="stylesheet" href="/css/crud.css">
    </head>
    <body>

        <!--header-->
        <%- include('./partials/_header') %>
        <!--/header-->

        <main>

            <section class="crud">
                
                <h2 class="texto-crud">EDICION DE PRODUCTOS</h2>
                <hr>
                <form action="/products/edit/<%= product.id_product %>?_method=PUT" method="POST" class="formulario" enctype="multipart/form-data"> <!--enctype para subir imagenes. SI O SI usar Multer sino no viaja la info-->
                    <h3 class="texto-formulario">Edite su producto</h3>
                    <div class="imagen-formulario" >
                        <img onclick="window.location='/products/detail/<%= product.id_product %>'" src="/images/products/<%= product.image %>" alt=<%= product.name %>>
                    </div>
                    <div class="container-inputs">
                        <div class="inputs-1">
                            <div class="elemento">
                                <label>Nombre</label>
                                <input type="text" name="nombre" class="control" placeholder="Nombre" value="<%= product.name %>">
                            </div>
                            <div class="elemento">
                                <label>Descripción</label>
                                <input type="text" name="descripcion" class="control" placeholder="Descripción" value="<%= product.description %>">
                            </div>
                            <div class="elemento">
                                <label>Precio</label>
                                <input type="number" name="precio" class="control" placeholder="0.00" step="0.01" value="<%= product.price %>">
                            </div>
                        </div>
                        <div class="inputs-2">
                            <div class="elemento">
                                <label>Marca</label>
                                <input type="text" name="marca" class="control" placeholder="Marca" value="<%= product.brand %>">
                            </div>
                            <div class="elemento">
                                <label>Modelo</label>
                                <input type="text" name="modelo" class="control" placeholder="Modelo" value="<%= product.model %>">
                            </div>
                            <div class="elemento">
                                <label>Categoría</label>
                                <select name="categoria" class="control">
                                <% categoryList.forEach(category => { %>
                                    <option value="<%= category.id_category %>" <%= product.id_category == category.id_category ? 'selected' : ''; %>><%= category.name %></option>
                                <% }); %>
                                </select>
                            </div>
                        </div>
                        <div class="inputs-3">
                            <div class="elemento">
                                <label>Color</label>
                                <input type="text" name="color" class="control" placeholder="Color" value="<%= product.color %>">
                            </div>
                            <div class="elemento">
                                <label>Material</label>
                                <input type="text" name="material" class="control" placeholder="Material" value="<%= product.material %>">
                            </div>
                            <div class="elemento">
                                <label>Origen</label>
                                <input type="text" name="origen" class="control" placeholder="Origen" value="<%= product.origin %>">
                            </div>
                        </div>
                        <div class="inputs-4">
                            <div class="elemento">
                                <label>Año</label>
                                <input type="number" name="anio" class="control" placeholder="Año" value="<%= product.year %>">
                            </div>
                            <div class="elemento">
                                <label>Disponibilidad</label>
                                <select name="disponibilidad" class="control">
                                    <option value="En Stock" <%= product.availability == 'En Stock' ? 'selected' : ''; %>>En Stock</option>
                                    <option value="Sin Stock" <%= product.availability == 'Sin Stock' ? 'selected' : ''; %>>Sin Stock</option>
                                </select>
                            </div>
                            <div class="elemento">
                                <label>Imagen</label>
                                <input type="file" name="img" class="control" accept=".jpg, .png">
                            </div>
                        </div>
                        <div class="inputs-5">
                            <div class="elemento">
                                <label>Campaña</label>
                                <select name="campania" class="control" required>
                                <% campaignList.forEach(campaign => { %>
                                    <option value="<%= campaign.id_campaign %>" <%= product.id_campaign == campaign.id_campaign ? 'selected' : ''; %>><%= campaign.name %></option>
                                <% }); %>
                                </select>
                            </div>
                        </div>
                    <div><button class="boton-modificar" type="submit">Modificar</button></div>
                </form>

            </section>

        </main>

        <!--footer-->
        <%- include('./partials/_footer') %>
        <!--/footer-->
        
    </body>
</html>